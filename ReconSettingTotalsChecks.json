{
  "id": "1",
  "name": "Transaction Matches",
  "group": "FY 21-22",
  "dataSources": [
    {
      "id": "sales",
      "predicate": "name='sales' order by id",
      "bucketField": "entityId"
    },
    {
      "id": "tdsLedger",
      "predicate": "name='tdsLedger' order by id",
      "bucketField": "entityId"
    },
    {
      "id": "_26as",
      "predicate": "name='_26as' order by id",
      "bucketField": "entityId"
    }
  ],
  "ruleset": {
    "name": "Total Level Matches",
    "type": "TotalsComparison",
    "rules": [
      {
        "id": "tds_totals_at_transactions_level_between_sales_and_tds_ledger",
        "expression": "#totalEqualsWithNumericTolerance('tds_totals_at_transactions_level_between_sales_and_tds_ledger', sales, tdsLedger, {'invoiceNo'}, {'invoiceNo'}, 'tdsOnSales', 'tds', 1.0)",
        "tagsWhenMatched": [
          "TRANSACTION_TOTALS_MATCHED_BETWEEN_SALES_AND_TDSLEDGER"
        ],
        "tagsWhenNotMatched": [
          "TRANSACTION_TOTALS_UNMATCHED_BETWEEN_SALES_AND_TDSLEDGER"
        ]
      },
      {
        "id": "tds_totals_at_transactions_level_between_tds_ledger_and_26as",
        "expression": "#totalEqualsWithNumericTolerance('tds_totals_at_transactions_level_between_tds_ledger_and_26as', tdsLedger, _26as, {'invoiceNo'}, {'invoiceNo'}, 'tds', 'taxFiled', 1.0)",
        "tagsWhenMatched": [
          "TRANSACTION_TOTALS_MATCHED_BETWEEN_TDSLEDGER_AND_26AS"
        ],
        "tagsWhenNotMatched": [
          "TRANSACTION_TOTALS_UNMATCHED_BETWEEN_TDSLEDGER_AND_26AS"
        ]
      }
    ]
  }
}